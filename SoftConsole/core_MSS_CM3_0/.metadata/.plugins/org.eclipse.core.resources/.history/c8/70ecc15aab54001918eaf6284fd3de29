#include "drivers/mss_uart/mss_uart.h"

#define TFMINI_ADDR 0x10

int main()
{
	MSS_UART_init
	     (
	         &g_mss_uart1,
	         MSS_UART_115200_BAUD,
	         MSS_UART_DATA_8_BITS | MSS_UART_NO_PARITY | MSS_UART_ONE_STOP_BIT
	     );

    uint8_t setup_buffer[8] = {0x42, 0x57, 0x02, 0x00, 0x00, 0x00, 0x01, 0x06};

    MSS_I2C_write( &g_mss_i2c0, TFMINI_ADDR, setup_buffer,
					sizeof(setup_buffer), MSS_I2C_RELEASE_BUS );

    uint8_t status = MSS_I2C_wait_complete( &g_mss_i2c0, MSS_I2C_NO_TIMEOUT );


    printf("d", status);
}
